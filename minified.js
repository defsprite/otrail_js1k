for(p in a)a[p[0]+(p[6]||p.length)]=a[p];c.width=w=800;c.height=h=600;M=Math;R=M.random;d=0.1;oy=y=h/2;f=s=u=or=r=x=i=0;pl=10;m=w/pl;Y=w/2;lw=180;g=4;p=[];for(i=0;i++<20;p.push(y));z="#6301#0001#3601#FC01round1You have died of dysentery!1 steps".split(1);with(a){S=function(r,tx,y){s4();ba();ta(x+tx,y);r6(r);m6(0,0);bC(-10,-5,-10,15,0,10);m6(5,0);bC(40,-10,40,20,5,10);f4();re();};I=setInterval(function(){re();if(M.abs(p[7]-y)>lw/2){ba();fillStyle=z[0];ta(Y+m,y);m6(0,0);for(i=0;i++<7;r=R()+1,r6(1),bC(50*r,-35*r,50*r,35*r,10,5));f4();re();fillStyle=z[1];m6(Y,h/2);s5(4,4);fx(z[5],-70,10);clearInterval(I);return;}
re();fillStyle=z[2];fc(0,0,w,h);fillStyle=z[1];s4();ta(10,15);fx(f+z[6],0,0);re();lineWidth=lw;lineJoin=z[4];strokeStyle=z[3];ba();m6(0,p[0]);P=p.length;for(i=0;i<P;l6((i-1)*(w/pl)+x,p[i++]));s6();re();x-=g;if(x<=-(w/pl)){i=p[P-1]+((0.5-R())*110);(P>pl+3)?p=p.slice(1,P):0;p.push(i>h*0.8?h*0.8:i<h*0.2?h*0.2:i);or=r;oy=y;r=0.3*u+(s?d:-d);y+=30*u+(s?20:-20);s=!s;x=u=0;f%50?0:lw-=5;f%50?0:g++;f++;}
S(or,Y,oy);S(r,Y+m,y);},25);}
onkeydown=function(e){k=40-e.keyCode;e.type[5]&&k>=0&&k<3?u=1-k:0;return 0;};